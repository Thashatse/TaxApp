@model Model.SP_GetJobExpense_Result

@{
    ViewBag.Title = "Job Expense For " + @ViewBag.JobTitle;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Header -->
<div class="header bg-gradient-primary py-7 py-lg-8">
    <div class="container">
        <div class="header-body text-center mb-7">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-6">
                    <h1 class="text-white">
                        @Html.DisplayFor(model => model.Name)
                    </h1>
                    <p class="text-white">For <a class="text-white" href="../Job/Job?ID=@ViewBag.JobID"> @ViewBag.JobTitle</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid mt--7">
    <div class="container mt--8 pb-5">
        <div class="row justify-content-center">
            <div class="col-lg-12 col-md-12">
                <div class="card bg-secondary shadow border-0">

                    <div class="table-responsive">
                        <table class="table align-items-center table-flush">
                            <tbody>
                                <tr>
                                    <th scope="row">
                                        @Html.DisplayNameFor(model => model.Description)
                                    </th>
                                    <td>
                                        @Html.DisplayFor(model => model.Description)
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        @Html.DisplayNameFor(model => model.Date)
                                    </th>
                                    <td>
                                        @Html.DisplayFor(model => model.DateString)
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        @Html.DisplayNameFor(model => model.Amount)
                                    </th>
                                    <td>
                                        R @Html.DisplayFor(model => model.AmountString)
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        @Html.DisplayNameFor(model => model.CatName)
                                    </th>
                                    <td>
                                        @Html.DisplayFor(model => model.CatName)
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        @Html.DisplayNameFor(model => model.CatDescription)
                                    </th>
                                    <td>
                                        @Html.DisplayFor(model => model.CatDescription)
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="card-header border-0">
                        <div class="row align-items-center">
                            <div class="col-2">
                                <p class="mb-0">Actions: </p>
                            </div>
                            <div class="col-10 text-right">
                                @if (ViewBag.Complete != "NotDone")
                                {
                                    <a href="../Expense/EditJobExpense?ID=@Html.DisplayFor(model => model.ExpenseID)"
                                       class="btn btn-sm btn-secondary">Edit</a>
                                }
                                @if (@Model.Invoice_ReceiptCopy == null)
                                {
                                    <a href="../Functions/AttachFile?ID=@Html.DisplayFor(model => model.ExpenseID)&type=JE&Title=Invoice or Receipt&Details=@ViewBag.Details"
                                       class="btn btn-sm btn-white">
                                        Add Invoice or Receipt Copy<i class="ni ni-cloud-upload-96"></i>
                                    </a>
                                }
                                else
                                {
                                    <a target="_blank" href="../Functions/DownloadFile?ID=@Html.DisplayFor(model => model.ExpenseID)&type=JE"
                                       class="btn btn-sm btn-white">
                                        Download Invoice or Receipt Copy <i class="ni ni-cloud-download-95"></i>
                                    </a>
                                    <a href="../Functions/AttachFile?ID=@Html.DisplayFor(model => model.ExpenseID)&type=JE&Title=Invoice or Receipt&Details=@ViewBag.Details"
                                       class="btn btn-sm btn-white">
                                        Update Invoice or Receipt Copy<i class="ni ni-cloud-upload-96"></i>
                                    </a>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
